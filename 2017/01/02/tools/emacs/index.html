<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">



  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">










<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1. 第一章1.1. 输入命令如果不知道一个命令对应的按键或者需要输入命令的时候，首先输入’ESC x’或者’META-x’，然后输入命令，接着回车即可。 1.2. 缓冲区 buffer编辑器并不会对文件本身进行编辑，会首先将文件的内容放到一个临时性的缓冲区里（文件的一个副本），然后再对缓冲区中的东西进行编辑。缓冲区的名字通常就是正在编辑的文件的名字。scratch是一个临时性的辅助性的缓冲区，类">
<meta property="og:type" content="article">
<meta property="og:title" content="Learning GNU Emacs">
<meta property="og:url" content="https://chinasanshi.github.io/2017/01/02/tools/emacs/index.html">
<meta property="og:site_name" content="All in Org-mode">
<meta property="og:description" content="1. 第一章1.1. 输入命令如果不知道一个命令对应的按键或者需要输入命令的时候，首先输入’ESC x’或者’META-x’，然后输入命令，接着回车即可。 1.2. 缓冲区 buffer编辑器并不会对文件本身进行编辑，会首先将文件的内容放到一个临时性的缓冲区里（文件的一个副本），然后再对缓冲区中的东西进行编辑。缓冲区的名字通常就是正在编辑的文件的名字。scratch是一个临时性的辅助性的缓冲区，类">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-06-24T07:29:36.865Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learning GNU Emacs">
<meta name="twitter:description" content="1. 第一章1.1. 输入命令如果不知道一个命令对应的按键或者需要输入命令的时候，首先输入’ESC x’或者’META-x’，然后输入命令，接着回车即可。 1.2. 缓冲区 buffer编辑器并不会对文件本身进行编辑，会首先将文件的内容放到一个临时性的缓冲区里（文件的一个副本），然后再对缓冲区中的东西进行编辑。缓冲区的名字通常就是正在编辑的文件的名字。scratch是一个临时性的辅助性的缓冲区，类">






  <link rel="canonical" href="https://chinasanshi.github.io/2017/01/02/tools/emacs/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Learning GNU Emacs | All in Org-mode</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">All in Org-mode</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Keep it Simple, Stuped.</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />Tags</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chinasanshi.github.io/2017/01/02/tools/emacs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kyle Three Stone">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/polarbear.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="All in Org-mode">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Learning GNU Emacs
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-01-02 00:00:00" itemprop="dateCreated datePublished" datetime="2017-01-02T00:00:00+08:00">2017-01-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-06-24 15:29:36" itemprop="dateModified" datetime="2018-06-24T15:29:36+08:00">2018-06-24</time>
              
            
          </span>

          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon"
            >
            <i class="fa fa-eye"></i>
             Views:  
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">23k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">21 mins.</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-第一章"><a href="#1-第一章" class="headerlink" title="1. 第一章"></a>1. 第一章</h1><h2 id="1-1-输入命令"><a href="#1-1-输入命令" class="headerlink" title="1.1. 输入命令"></a>1.1. 输入命令</h2><p>如果不知道一个命令对应的按键或者需要输入命令的时候，首先输入’ESC x’或者’META-x’，然后输入命令，接着回车即可。</p>
<h2 id="1-2-缓冲区-buffer"><a href="#1-2-缓冲区-buffer" class="headerlink" title="1.2. 缓冲区 buffer"></a>1.2. 缓冲区 buffer</h2><p>编辑器并不会对文件本身进行编辑，会首先将文件的内容放到一个临时性的缓冲区里（文件的一个副本），然后再对缓冲区中的东西进行编辑。缓冲区的名字通常就是正在编辑的文件的名字。<br><em>scratch</em>是一个临时性的辅助性的缓冲区，类似草稿簿。<br><em>help</em>是将帮助信息显示的地方</p>
<h2 id="1-3-编辑模式"><a href="#1-3-编辑模式" class="headerlink" title="1.3. 编辑模式"></a>1.3. 编辑模式</h2><p>Emacs有很多个主模式，且一个编辑缓冲区只能处于一个主模式，退出某个主模式的办法就是进入另一个主模式。<br>Emacs会依据文件名后缀或者文件的内容来判断文件的类型，从而尝试进入正确的模式。如果无法判断，会转入基本编辑模式。</p>
<table>
<thead>
<tr>
<th style="text-align:left">模式</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">基本模式（fundamental mode）</td>
<td style="text-align:left">默认模式，无特殊行为</td>
</tr>
<tr>
<td style="text-align:left">文本模式（text mode）</td>
<td style="text-align:left">书写文字材料 （2）</td>
</tr>
<tr>
<td style="text-align:left">邮件模式（mail mode）</td>
<td style="text-align:left">书写电子邮件消息（6）</td>
</tr>
<tr>
<td style="text-align:left">RMAIL mode</td>
<td style="text-align:left">阅读和组织电子邮件（6）</td>
</tr>
<tr>
<td style="text-align:left">只读模式（view mode）</td>
<td style="text-align:left">查看文件，但不进行编辑（5）</td>
</tr>
<tr>
<td style="text-align:left">shell mode</td>
<td style="text-align:left">在Emacs里运行一个UNIX shell（5）</td>
</tr>
<tr>
<td style="text-align:left">FTP模式（ange-ftp mode）</td>
<td style="text-align:left">下载或者查看远程系统上的文件（7）</td>
</tr>
<tr>
<td style="text-align:left">telnet mode</td>
<td style="text-align:left">登陆到远程系统（7）</td>
</tr>
<tr>
<td style="text-align:left">大纲模式（outline mode）</td>
<td style="text-align:left">书写大纲（8）</td>
</tr>
<tr>
<td style="text-align:left">缩进文本模式（indented text mode）</td>
<td style="text-align:left">自动缩进文本（8）</td>
</tr>
<tr>
<td style="text-align:left">图形模式（pictures mode）</td>
<td style="text-align:left">绘制简单的线条图形（8）</td>
</tr>
<tr>
<td style="text-align:left">nroff mode</td>
<td style="text-align:left">按nroff的要求对文件进行排版（9）</td>
</tr>
<tr>
<td style="text-align:left">TEX mode</td>
<td style="text-align:left">按TEX的要求对文件进行排版（9）</td>
</tr>
<tr>
<td style="text-align:left">LATEX mode</td>
<td style="text-align:left">按LATEX的要求对文件进行排版（9）</td>
</tr>
<tr>
<td style="text-align:left">C mode</td>
<td style="text-align:left">书写C语言程序（12）</td>
</tr>
<tr>
<td style="text-align:left">C++ mode</td>
<td style="text-align:left">书写C++程序（12）</td>
</tr>
<tr>
<td style="text-align:left">FORTRAN mode</td>
<td style="text-align:left">书写FORTRAN程序（12）</td>
</tr>
<tr>
<td style="text-align:left">Emacs LISP mode</td>
<td style="text-align:left">书写Emacs LISP程序（12）</td>
</tr>
<tr>
<td style="text-align:left">LISP mode</td>
<td style="text-align:left">书写LISP程序（12）</td>
</tr>
<tr>
<td style="text-align:left">LISP 互动模式（LISP interaction mode）</td>
<td style="text-align:left">书写和求值LISP表达式（12）</td>
</tr>
</tbody>
</table>
<p>在主模式之外还有一些副模式（minor mode），用于定义Emacs的某些特定的行为，可以在主模式里打开或者关闭。比如自动换行模式（auto-fill mode）会使文件在一个适当的位置自动插入一个换行符。</p>
<table>
<thead>
<tr>
<th style="text-align:left">副模式</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">自动换行模式（auto-fill mode）</td>
<td style="text-align:left">开启字换行（word warp）功能（2）</td>
</tr>
<tr>
<td style="text-align:left">改写模式（overwrite mode）</td>
<td style="text-align:left">打字是替换而不是插入（2）</td>
</tr>
<tr>
<td style="text-align:left">自动保存模式（auto-save mode）</td>
<td style="text-align:left">把文件按一定的按键次数自动保存到一个特殊的临时文件</td>
</tr>
<tr>
<td style="text-align:left">行号模式（line numer mode）</td>
<td style="text-align:left">在状态行上显示当前文本行的行号（2）</td>
</tr>
<tr>
<td style="text-align:left">临时标记模式（transient mark mode）</td>
<td style="text-align:left">选取的文本区做高亮反显</td>
</tr>
<tr>
<td style="text-align:left">缩略词语模式（abbrev mode）</td>
<td style="text-align:left">允许使用单词的简写形式（3）</td>
</tr>
<tr>
<td style="text-align:left">大纲模式（outline mode）</td>
<td style="text-align:left">书写大纲（8）</td>
</tr>
<tr>
<td style="text-align:left">VC模式（VC mode）</td>
<td style="text-align:left">在Emacs下使用各种版本控制系统（15）</td>
</tr>
</tbody>
</table>
<p>大纲模式既是主模式也是副模式。还有一些不常见的或者Emacs自己使用的模式没有列出。<br>如果擅长LISP程序设计，可以自行增加新的编辑模式。Emacs的可扩展性似乎是无穷的。</p>
<h2 id="1-4-启动Emacs"><a href="#1-4-启动Emacs" class="headerlink" title="1.4. 启动Emacs"></a>1.4. 启动Emacs</h2><p>在shell中输入’emacs filename’就可以打开文件，如果想在shell中打开文件可以加上参数’-nw’<br>光标的位置称为插入点。<br>编辑画面包括菜单栏、工作区、状态行、辅助输入区（minibuffer）<br>状态行：左边两个星号(**)显示文件被修改过；接着是缓冲区的名字；然后是当前的行数（Top、Bot、45%、ALL）；然后圆括号中是当前的编辑模式；每个缓冲区都有自己的状态行。<br>辅助缓冲区：发出命令执行的结果、出错的信息、搜索替换等。如果困在输入缓冲区，可以使用C-g组合键。</p>
<h2 id="1-5-Emacs命令"><a href="#1-5-Emacs命令" class="headerlink" title="1.5. Emacs命令"></a>1.5. Emacs命令</h2><p>每个命令都有一个正式的名字，<strong>他们是Emacs内部LISP例程的名字</strong>。名字一般比较长。<br>Emacs把一个命令与一个以CTRL或者META打头的组合键关联起来，命令与组合键之间的这种联系被称为“绑定”，在X窗口，Emacs会把一些命令与鼠标动作和菜单里的某些选项绑定在一起。<br>Emacs的创作者们已经尽量把最常用的命令，与手指最容易接触的组合键绑定在一起：</p>
<ul>
<li>最常用的命令被绑定为“C-n”（n可以是任意的字符）的形式</li>
<li>次常用的命令被绑定为“M-n”（n可以是任意的字符）</li>
<li>其他常用的命令被绑定为“C-x something”（something可能是一个或者多个字符、或者是另外一个控制组合），文件操作命令通常被绑定为“C-x something”的形式</li>
<li>某些特殊的命令被绑定为“C-c something”的形式，用于特殊的模式</li>
<li>有些无法绑定的命令，使用“M-x long-command-nam RETURN”输入，适合全部命令，但组合键通常比较容易<br>Emacs允许用户自己定义组合键（11章）<h2 id="1-6-基于文本的菜单"><a href="#1-6-基于文本的菜单" class="headerlink" title="1.6. 基于文本的菜单"></a>1.6. 基于文本的菜单</h2>按下F10或者“M-`”（单反引号）将打开一个列出菜单选项的编辑缓冲区（<em>Completions</em>）,然后有三种方法来选择</li>
<li>使用PgUp键切换到<em>Completions</em>缓冲区，然后使用方向键移动到需要的选项上，再按回车键</li>
<li>上下键选择，然后回车</li>
<li>输入<em>Completions</em>缓冲区里各选项前面的首字母，就直接选中了该选项。<h2 id="1-7-打开一个文件"><a href="#1-7-打开一个文件" class="headerlink" title="1.7. 打开一个文件"></a>1.7. 打开一个文件</h2>“C-x C-f”（长格式命令“find-file”），创建一个编辑缓冲区，名字同文件的名字相同。<br>“C-x C-f”操作允许通配符（可能较早的版本不支持），在启动Emacs时，后面使用通配符来同时打开多个文件<br><strong>只要Emacs需要进一步提供信息，它就会把光标自动放到辅助输入区，完成在辅助输入区的输入之后，需要按回车键来确认；普通编辑命令后面不需要按回车键</strong><br>对同一个文件进行两次读入操作，并不会打开一个新的缓冲区，它会进入该文件所在的缓冲区。<br>“C-x C-v”（“find-alternative-file”）用于读取另外一个文件来替换当前文件，缓冲区的内容会被替换<h2 id="1-8-插入和追加文件"><a href="#1-8-插入和追加文件" class="headerlink" title="1.8. 插入和追加文件"></a>1.8. 插入和追加文件</h2>首先移动光标到所需要的位置，然后按下“C-x i”来打开需要插入的文件<h2 id="1-9-默认目录"><a href="#1-9-默认目录" class="headerlink" title="1.9. 默认目录"></a>1.9. 默认目录</h2>使用任何一个需要进一步给出文件名的命令时，Emacs会在辅助输入区给出一个默认的目录，默认为当前缓冲区文件所在的子目录。若当前缓冲区与文件没有联系，会打开一个默认的目录。在猜测用户想设置的默认目录方面，Emacs还是相当有门道的。<h2 id="1-10-保存问件"><a href="#1-10-保存问件" class="headerlink" title="1.10. 保存问件"></a>1.10. 保存问件</h2>“C-x C-s”用于保存文件，同样可以保存“scratch”缓冲区到一个文件。<br>“C-x C-w”用于将缓冲区另存为一个文件，若不输入直接回车就会任然保存到原文件<h2 id="1-11-退出Emacs"><a href="#1-11-退出Emacs" class="headerlink" title="1.11. 退出Emacs"></a>1.11. 退出Emacs</h2>“C-x C-c”用于退出Emacs，若没有保存修改会得到相应的提示信息，且若输入‘n’不保存的时候，会再次提示，此次必须输入完整的“yes”或“no”作为回答。<h2 id="1-12-自动补全"><a href="#1-12-自动补全" class="headerlink" title="1.12. 自动补全"></a>1.12. 自动补全</h2>打开一个已经存在的文件或者长格式命令，只要输入头几个字母以构成唯一识别，然后按下TAB键，Emacs会自动补全剩余的部分。如果存在多个相关的文件或命令，Emacs会打开一个窗口，把以这个字符串开头的文件或命令都列出来，然后再选择确定即可。<h2 id="1-13-获取帮助"><a href="#1-13-获取帮助" class="headerlink" title="1.13. 获取帮助"></a>1.13. 获取帮助</h2>“C-h”组合键用于获取在线帮助信息。<br>Tutorial：“C-h t”组合键将启动Emacs教程，这是一个非常好的入门教程。<br>Describe Key（击键序列）：“C-h k”<br>Describe Function（函数释义）：“C-h f”<br>获取按键绑定对应表<br>访问UNIX命令的使用手册（manpage）<br>Emacs常见问题答疑（frequently asked questions，简称FAQ）<br>对当前模式的一个介绍<br>Info文档阅读器：“C-h i”，使用info命令来查阅Emacs在线文档的接口<h1 id="2-第二章-文件编辑"><a href="#2-第二章-文件编辑" class="headerlink" title="2. 第二章 文件编辑"></a>2. 第二章 文件编辑</h1><h2 id="2-1-自动换行模式"><a href="#2-1-自动换行模式" class="headerlink" title="2.1 自动换行模式"></a>2.1 自动换行模式</h2>“M-x auto-fill-mode RETURN”用于打开和关闭自动换行模式的开关状态。<h2 id="2-2-光标的移动"><a href="#2-2-光标的移动" class="headerlink" title="2.2 光标的移动"></a>2.2 光标的移动</h2><h3 id="2-2-1-基本的光标移动操作"><a href="#2-2-1-基本的光标移动操作" class="headerlink" title="2.2.1 基本的光标移动操作"></a>2.2.1 基本的光标移动操作</h3></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-f</td>
<td style="text-align:left">forward，光标向右移动一个字符的位置</td>
</tr>
<tr>
<td style="text-align:left">C-b</td>
<td style="text-align:left">backward，光标向左移动一个字符的位置</td>
</tr>
<tr>
<td style="text-align:left">C-p</td>
<td style="text-align:left">previous-line，光标向上移动一行</td>
</tr>
<tr>
<td style="text-align:left">C-n</td>
<td style="text-align:left">next-line，光标向下移动一行</td>
</tr>
</tbody>
</table>
<h3 id="2-2-2-其他的光标移动方法"><a href="#2-2-2-其他的光标移动方法" class="headerlink" title="2.2.2 其他的光标移动方法"></a>2.2.2 其他的光标移动方法</h3><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-f</td>
<td style="text-align:left">光标右移一个单词</td>
</tr>
<tr>
<td style="text-align:left">M-b</td>
<td style="text-align:left">光标左移一个单词</td>
</tr>
<tr>
<td style="text-align:left">C-a</td>
<td style="text-align:left">光标移动到一行的开始（‘a’是字母表的第一个字母）</td>
</tr>
<tr>
<td style="text-align:left">C-e</td>
<td style="text-align:left">光标移动到一行的结束</td>
</tr>
<tr>
<td style="text-align:left">M-a</td>
<td style="text-align:left">光标左移一个句子</td>
</tr>
<tr>
<td style="text-align:left">M-e</td>
<td style="text-align:left">光标右移一个句子</td>
</tr>
<tr>
<td style="text-align:left">M-}</td>
<td style="text-align:left">光标下移一个段落，如果光标在一段的中间，那么光标回到该段的其实位置</td>
</tr>
<tr>
<td style="text-align:left">M-{</td>
<td style="text-align:left">光标上移一个段落</td>
</tr>
<tr>
<td style="text-align:left">C-x ]</td>
<td style="text-align:left">forward-page，光标下移一页，“C-q C-l”插入分页符</td>
</tr>
<tr>
<td style="text-align:left">C-x [</td>
<td style="text-align:left">backward-page，光标下移一页</td>
</tr>
<tr>
<td style="text-align:left">M-&gt;</td>
<td style="text-align:left">调到缓冲区的末尾，同END键</td>
</tr>
<tr>
<td style="text-align:left">M-&lt;</td>
<td style="text-align:left">调到缓冲区的开头，同HOME键</td>
</tr>
<tr>
<td style="text-align:left">M-x goto-line n RETURN</td>
<td style="text-align:left">光标调到第n行</td>
</tr>
<tr>
<td style="text-align:left">M-x goto-char n RETURN</td>
<td style="text-align:left">光标调到第n个字符</td>
</tr>
</tbody>
</table>
<p><strong>Ctrl按键依据字符来移动，META按键依据语义来移动字符；所以Ctrl“开头的命令比“META”开头的命令移动的距离短。</strong><br>Emacs对句子和段落有较严格的规定</p>
<h3 id="2-2-3-翻页"><a href="#2-2-3-翻页" class="headerlink" title="2.2.3 翻页"></a>2.2.3 翻页</h3><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-v</td>
<td style="text-align:left">向下翻页，上一屏幕的最后几行会保留在屏幕的顶部。</td>
</tr>
<tr>
<td style="text-align:left">M-v</td>
<td style="text-align:left">向上翻页</td>
</tr>
</tbody>
</table>
<p>如果输入的光标移动命令的目标位置在当前屏以外，Emacs会自动卷屏。</p>
<h2 id="2-3-命令的重复执行"><a href="#2-3-命令的重复执行" class="headerlink" title="2.3 命令的重复执行"></a>2.3 命令的重复执行</h2><p>Emacs的任何命令都运行重复执行多次</p>
<p>“M-n order“：可以让命令执行n次，可以用于大文件的光标移动”M-x 200 C-n“光标向下移动200行<br>”C-u n order“：同样可以让命令执行n次，若不加”n“，将默认执行4次，且”C-u C-u order“会将命令执行16次，即重复使用”C-u“可以按4的幂次来执行随后的命令：4,16,64,256….</p>
<h2 id="2-4-重新绘制屏显画面"><a href="#2-4-重新绘制屏显画面" class="headerlink" title="2.4 重新绘制屏显画面"></a>2.4 重新绘制屏显画面</h2><p>”C-l“：有其他多余的信息打乱了当前的画面，该组合键会清楚无用的显示信息。同时可以将正在编辑的行放置到窗口的中心位置，方便用户查看上下文。</p>
<h2 id="2-5-Emacs支持键盘上的标准按键"><a href="#2-5-Emacs支持键盘上的标准按键" class="headerlink" title="2.5 Emacs支持键盘上的标准按键"></a>2.5 Emacs支持键盘上的标准按键</h2><p>如PgDn、Home等按键均被支持</p>
<h2 id="2-6-文本的删除"><a href="#2-6-文本的删除" class="headerlink" title="2.6 文本的删除"></a>2.6 文本的删除</h2><p>Emacs提供了向前向后删除单词、句子、段落的编辑命令，光标位于单词、句子、段落中间时，只会删除单词、句子、段落的部分内容。</p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x u</td>
<td style="text-align:left">撤销最近一次的编辑，再次按下撤销上次的编辑</td>
</tr>
<tr>
<td style="text-align:left">DEL</td>
<td style="text-align:left">删除光标左侧的字符（文档上显示为DEL按键，其实是BackSpace键）</td>
</tr>
<tr>
<td style="text-align:left">C-d</td>
<td style="text-align:left">delete-character，删除光标所在位置处的字符</td>
</tr>
<tr>
<td style="text-align:left">M-d</td>
<td style="text-align:left">kill-word，删除下一个单词（“c-d”对字符操作，“M-d”对单词操作）</td>
</tr>
<tr>
<td style="text-align:left">M-DEL</td>
<td style="text-align:left">backward-kill-word，删除前一个单词，光标至该单词的第一个字母。</td>
</tr>
<tr>
<td style="text-align:left">ESC-C-k</td>
<td style="text-align:left">删除行首至光标处之间的字符。（试验不成功）</td>
</tr>
<tr>
<td style="text-align:left">C-k</td>
<td style="text-align:left">kill-line，删除光标至行尾的文本，再次按下删除换行符。</td>
</tr>
<tr>
<td style="text-align:left">C-x DEL</td>
<td style="text-align:left">backward-kill-sentence，删除光标前面的句子</td>
</tr>
<tr>
<td style="text-align:left">M-k</td>
<td style="text-align:left">kill-sentence，删除光标后面的句子。</td>
</tr>
<tr>
<td style="text-align:left">C-w 或者 SHIFT-DELETE</td>
<td style="text-align:left">kill-region，删除文本块</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">backward-kill-paragraph，删除光标前面的段落</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">kill-paragraph，删除光标后面的段落</td>
</tr>
</tbody>
</table>
<h2 id="2-7-恢复已删除的文本"><a href="#2-7-恢复已删除的文本" class="headerlink" title="2.7 恢复已删除的文本"></a>2.7 恢复已删除的文本</h2><p>被删除的文本被保存在了删除环中（kill-ring），除了DEL和“C-d”两个删除单个字符的操作不会被保存在删除环，其他的删除和复制操作都会保存到删除环。<br>“C-y”–“SHIFT-INSERT | yank，恢复被删除的文本</p>
<h2 id="2-8-文本块及其编辑操作"><a href="#2-8-文本块及其编辑操作" class="headerlink" title="2.8 文本块及其编辑操作"></a>2.8 文本块及其编辑操作</h2><p>用标记文本的方法把打算删除的东西定义为一个区域，称之为文本块。</p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-@ 或者 C-SPACE</td>
<td style="text-align:left">设置一个文本标记（此时在辅助输入区出现‘Mark set’字样），然后移动光标，文本标记和光标之间的文本就构成了一个文本块。（光标显示在字符上，插入点是光标所在字符与前一个字符之间的空隙）</td>
</tr>
<tr>
<td style="text-align:left">C-x C-x</td>
<td style="text-align:left">exchange-point-and-mark，互换插入点和文本标记的位置。</td>
</tr>
<tr>
<td style="text-align:left">M-h</td>
<td style="text-align:left">mark-paragragh，把文本标记放到段落的末尾，光标放到段落的开始位置</td>
</tr>
<tr>
<td style="text-align:left">C-x h</td>
<td style="text-align:left">mark-whole-buffer，标记整个缓冲区</td>
</tr>
<tr>
<td style="text-align:left">C-x C-p</td>
<td style="text-align:left">标记当前页面，</td>
</tr>
</tbody>
</table>
<p>鼠标左键拖动选中文本块；或者在开始处左键单击，结束处右键单击来标记；双击选取一个单词；三击选取一行文本；</p>
<h2 id="2-9-文本复制"><a href="#2-9-文本复制" class="headerlink" title="2.9 文本复制"></a>2.9 文本复制</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-w</td>
<td style="text-align:left">kill-ring-save，用于复制选中的文本块</td>
</tr>
<tr>
<td style="text-align:left">C-y</td>
<td style="text-align:left">yank，粘贴刚才复制的内容</td>
</tr>
<tr>
<td style="text-align:left">M-y</td>
<td style="text-align:left">从删除环中选择需要恢复的文本，删除环可以记录最近30次删除的东西。</td>
</tr>
</tbody>
</table>
<h2 id="2-10-段落重排"><a href="#2-10-段落重排" class="headerlink" title="2.10 段落重排"></a>2.10 段落重排</h2><h2 id="2-11-交换位置"><a href="#2-11-交换位置" class="headerlink" title="2.11 交换位置"></a>2.11 交换位置</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-t</td>
<td style="text-align:left">transpose-chars，交换两个字符的位置，当前字符与前一个字符交换</td>
</tr>
<tr>
<td style="text-align:left">M-t</td>
<td style="text-align:left">transpose-words，在两个单词的中间，交换前后两个单词</td>
</tr>
<tr>
<td style="text-align:left">C-x C-t</td>
<td style="text-align:left">transpose-lines，交换当前行与前一行的文本的位置</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">transpose-sentences，交换两个句子的位置</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">transpose-paragraphs，交换两个段落的位置</td>
</tr>
</tbody>
</table>
<h2 id="2-12-改写字母的大小写"><a href="#2-12-改写字母的大小写" class="headerlink" title="2.12 改写字母的大小写"></a>2.12 改写字母的大小写</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-c</td>
<td style="text-align:left">capitalize-word，单词的首字母改为大写（光标移动到单词首字母）；如果光标位于文本的中间，则Emacs只对光标位置到单词结尾之间的字母处理。</td>
</tr>
<tr>
<td style="text-align:left">M-l</td>
<td style="text-align:left">downcase-word，单词的所有字母改为小写</td>
</tr>
<tr>
<td style="text-align:left">M-u</td>
<td style="text-align:left">upcase-word，单词的所有字母改为大写</td>
</tr>
<tr>
<td style="text-align:left">M--</td>
<td style="text-align:left">negtive-argument，在命令前加上该命令则不会改变光标的位置，且光标位于单词中间的时候，后面的命令只对单词的前半部分做修改。</td>
</tr>
</tbody>
</table>
<h2 id="2-13-文本的改写"><a href="#2-13-文本的改写" class="headerlink" title="2.13 文本的改写"></a>2.13 文本的改写</h2><p>按键INSERT，或者”M-x overwrite-mode RETURN“进入改写模式（overwrite mode），在状态行出现Ovwrt</p>
<h2 id="2-14-命令的中止和修改的撤销"><a href="#2-14-命令的中止和修改的撤销" class="headerlink" title="2.14 命令的中止和修改的撤销"></a>2.14 命令的中止和修改的撤销</h2><h2 id="2-15-撤销修改"><a href="#2-15-撤销修改" class="headerlink" title="2.15 撤销修改"></a>2.15 撤销修改</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-x revert-buffer RETURN</td>
<td style="text-align:left">重新读取文件，仅对当前文件有效</td>
</tr>
<tr>
<td style="text-align:left">C-g</td>
<td style="text-align:left">keyboard-quit，放弃当前命令</td>
</tr>
<tr>
<td style="text-align:left">C-_ 或 C-/</td>
<td style="text-align:left">undo，撤销上次编辑</td>
</tr>
<tr>
<td style="text-align:left">C-x u</td>
<td style="text-align:left">advertised-undo，撤销上一次编辑，与上一条命令的不同待考证</td>
</tr>
</tbody>
</table>
<h2 id="2-16-文件备份"><a href="#2-16-文件备份" class="headerlink" title="2.16 文件备份"></a>2.16 文件备份</h2><p>Emacs会自动创建备份文件，在原文件名后加上~，也可以备份几个文件使用不同的数字后缀来表示，后缀是~n~</p>
<h2 id="2-17-恢复丢失的修改"><a href="#2-17-恢复丢失的修改" class="headerlink" title="2.17 恢复丢失的修改"></a>2.17 恢复丢失的修改</h2><p>开启”Auto saving“模式，在原名字前后加上井字符（#），输入”M-x recover-file RETURN“恢复自动保存的文件。Emacs每隔300次击键就自动存盘一次。</p>
<h2 id="2-18-对Emacs进行定制"><a href="#2-18-对Emacs进行定制" class="headerlink" title="2.18 对Emacs进行定制"></a>2.18 对Emacs进行定制</h2><p>编辑.emacs文件可以对Emacs进行定制</p>
<h1 id="3-第三章-查找和替换操作"><a href="#3-第三章-查找和替换操作" class="headerlink" title="3. 第三章 查找和替换操作"></a>3. 第三章 查找和替换操作</h1><p>Emacs提供查找方式：简单查找、递增查找、单词查找、正则表达式查找、递增正则表达式查找；默认查找不区分大小写，但是输入一个以上的大写字母查找就会区分大小写。<br>替换与查找紧密相连：简单查找与替换、查询-替换、正则表达式替换</p>
<h2 id="3-1-递增替换"><a href="#3-1-递增替换" class="headerlink" title="3.1 递增替换"></a>3.1 递增替换</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-s word</td>
<td style="text-align:left">isearch-foward，word就是想要查找的单词（进入Isearch），从光标位置以后开始查找。如果找到的位置错误，继续按“C-s”来继续搜索。找到后使用RETURN来确定，输入错误使用DEL来修改。取消查找使用“C-g”。</td>
</tr>
<tr>
<td style="text-align:left">C-r word</td>
<td style="text-align:left">issarch-backward，向上查找</td>
</tr>
<tr>
<td style="text-align:left">C-s C-w</td>
<td style="text-align:left">把编辑缓冲区中的单词复制到查找字符串里（光标到下一个标点符号或者空格）</td>
</tr>
<tr>
<td style="text-align:left">C-s C-y</td>
<td style="text-align:left">光标至行尾的文本全部复制到查找字符串</td>
</tr>
<tr>
<td style="text-align:left">C-s M-y</td>
<td style="text-align:left">把删除环中的文本复制到查找字符串，使用“M-p”查看上一个，“M-n”查看下一个。</td>
</tr>
</tbody>
</table>
<h2 id="3-2-简单查找"><a href="#3-2-简单查找" class="headerlink" title="3.2 简单查找"></a>3.2 简单查找</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-s RETURN searchstring RETURN</td>
<td style="text-align:left">向前开始非递增查找</td>
</tr>
<tr>
<td style="text-align:left">C-r RETURN searchstring RETURN</td>
<td style="text-align:left">向后开始非递增查找</td>
</tr>
</tbody>
</table>
<h2 id="3-3-单词查找"><a href="#3-3-单词查找" class="headerlink" title="3.3 单词查找"></a>3.3 单词查找</h2><p>不受换行符、空格、标点符号的影响，但要求查找字符串与文件里的单词完整的匹配。</p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-s RETURN C-w searchstring RETURN</td>
<td style="text-align:left">word-search-forward，向前进行单词查找</td>
</tr>
<tr>
<td style="text-align:left">C-r RETURN C-w searchstring RETURN</td>
<td style="text-align:left">word-search-forward，向后进行单词查找</td>
</tr>
</tbody>
</table>
<h2 id="3-4-基本的查找-替换"><a href="#3-4-基本的查找-替换" class="headerlink" title="3.4 基本的查找-替换"></a>3.4 基本的查找-替换</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-x replace-string RETURN searchingstring RETURN newstring RETURN</td>
<td style="text-align:left">替换光标开始之后的所有字符串，若想替换所有的字符串，需要先将光标移动到文件的开始位置（M-&lt;）。并且Emacs可以自行处理字母的大小写（句子开头首字母大写）。</td>
</tr>
</tbody>
</table>
<h2 id="3-5-查询-替换"><a href="#3-5-查询-替换" class="headerlink" title="3.5 查询-替换"></a>3.5 查询-替换</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-% oldstring RETURN newstring RETURN</td>
<td style="text-align:left">开始查询替换</td>
</tr>
<tr>
<td style="text-align:left">SPACE或y</td>
<td style="text-align:left">将新的字符串替换原字符串，然后将光标定位到下一个字符串</td>
</tr>
<tr>
<td style="text-align:left">DEL或n</td>
<td style="text-align:left">不替换，前进到下一个字符串</td>
</tr>
<tr>
<td style="text-align:left">.</td>
<td style="text-align:left">在当前位置做替换操作后退出查询-替换操作</td>
</tr>
<tr>
<td style="text-align:left">,</td>
<td style="text-align:left">替换并显示替换情况，在按空格或者y后才移动到下一个位置</td>
</tr>
<tr>
<td style="text-align:left">!</td>
<td style="text-align:left">对后面的文件内容全部进行替换，不再继续询问是否进行替换</td>
</tr>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">返回上一次进行了替换的位置</td>
</tr>
<tr>
<td style="text-align:left">RETURN或q</td>
<td style="text-align:left">退出替换-查询操作</td>
</tr>
<tr>
<td style="text-align:left">C-r</td>
<td style="text-align:left">进入递归编辑状态</td>
</tr>
<tr>
<td style="text-align:left">C-w</td>
<td style="text-align:left">删除此处内容并进入递归编辑状态</td>
</tr>
<tr>
<td style="text-align:left">ESC C-c</td>
<td style="text-align:left">退出递归编辑状态，继续完成查询-替换操作</td>
</tr>
<tr>
<td style="text-align:left">C-]</td>
<td style="text-align:left">退出递归编辑状态和查询-替换操作</td>
</tr>
</tbody>
</table>
<h2 id="3-6-执行历史命令"><a href="#3-6-执行历史命令" class="headerlink" title="3.6 执行历史命令"></a>3.6 执行历史命令</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x ESC ESC</td>
<td style="text-align:left">调出最后一次输入的复杂命令，使用“M-p”查询之前的命令，“M-n”查询之后的命令。</td>
</tr>
</tbody>
</table>
<h2 id="3-7-递归编辑"><a href="#3-7-递归编辑" class="headerlink" title="3.7 递归编辑"></a>3.7 递归编辑</h2><p>开始查询-替换操作，按下“C-r”之后可以进行编辑操作，编辑完后，使用“ESC C-c”继续刚才的编辑工作。<br>“M-x recursive-edit RETURN”可以在任何时候进入递归编辑状态，并且递归编辑可以嵌套（不明白有和作用）；“ESC C-c”退出编辑状态。</p>
<h2 id="3-8-查询、替换操作的大小写问题"><a href="#3-8-查询、替换操作的大小写问题" class="headerlink" title="3.8 查询、替换操作的大小写问题"></a>3.8 查询、替换操作的大小写问题</h2><p>“M-x set-variable RETURN”，输入需要更改值的变量名“case-fold-search RETURN“，然后输入新值”nil“（依据输入的文本来替换）或者”t“（依据原单词的大小写来替换）代表true，更改查询时的大小写情况；变量”case-replace“更改查询替换时的大小写。</p>
<h2 id="3-9-查找和替换中的正则表达式"><a href="#3-9-查找和替换中的正则表达式" class="headerlink" title="3.9 查找和替换中的正则表达式"></a>3.9 查找和替换中的正则表达式</h2><table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">匹配情况</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">匹配行首</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">匹配行尾</td>
</tr>
<tr>
<td style="text-align:left">.</td>
<td style="text-align:left">匹配任意单个字符</td>
</tr>
<tr>
<td style="text-align:left">.*</td>
<td style="text-align:left">匹配0个及以上任意字符</td>
</tr>
<tr>
<td style="text-align:left">\&lt;</td>
<td style="text-align:left">匹配单词的开头</td>
</tr>
<tr>
<td style="text-align:left">></td>
<td style="text-align:left">匹配单词的结尾</td>
</tr>
<tr>
<td style="text-align:left">[]</td>
<td style="text-align:left">匹配方括号中的任何一个字符</td>
</tr>
</tbody>
</table>
<p>正则表达式查找命令</p>
<table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ESC C-s RETURN</td>
<td style="text-align:left">re-search-forward</td>
<td style="text-align:left">向前查找一个正则表达式</td>
</tr>
<tr>
<td style="text-align:left">ESC C-r RETURN</td>
<td style="text-align:left">re-search-backward</td>
<td style="text-align:left">向后查找一个正则表达式</td>
</tr>
<tr>
<td style="text-align:left">ESC C-s</td>
<td style="text-align:left">isearch-forward-regexp</td>
<td style="text-align:left">向前递增查找一个递增正则表达式</td>
</tr>
<tr>
<td style="text-align:left">ESC C-r</td>
<td style="text-align:left">isearch-backward-regexp</td>
<td style="text-align:left">向后递增查找一个递增正则表达式</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">query-replace-regexp</td>
<td style="text-align:left">查询-替换一个正则表达式</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">replace-regexp</td>
<td style="text-align:left">无条件的对一个正则表达式做全局性的替换</td>
</tr>
</tbody>
</table>
<h2 id="3-10-拼写检查"><a href="#3-10-拼写检查" class="headerlink" title="3.10 拼写检查"></a>3.10 拼写检查</h2><p>Emacs提供Ispell或者UNIX操作系统的拼写检查去spell，拼写检查器有一个词汇表称为字典，如果单词没有出现在字典里就认为单词拼写错误，但其无法检查”two“误写成”too“这类错误。</p>
<h3 id="Ispell"><a href="#Ispell" class="headerlink" title="Ispell"></a>Ispell</h3><p>Ispell提供了对一个编辑缓冲区、一个文本块、一条电子邮件消息、一个单词进行品写检查的操作选项。<br>“M-x ispell-buffer RETURN | 检查整个缓冲区，如果全部拼写正确，Ispell给出“Spell-checking done”提示；如果找到错误单词，光标会定位到第一个Ispell不认识的单词。此时可以查看帮助信息。<br>如果Ispell列出的单词就是需要的，按下相应的数字键即可进行替换；</p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">?</td>
<td style="text-align:left">列出可供选择操作</td>
</tr>
<tr>
<td style="text-align:left">r</td>
<td style="text-align:left">可以自己修改那个单词，Ispell会再次检查该单词</td>
</tr>
<tr>
<td style="text-align:left">R</td>
<td style="text-align:left">Ispell将开始一次查询-替换操作，以便把缓冲区里所有同样的错误都改正过来。</td>
</tr>
<tr>
<td style="text-align:left">space</td>
<td style="text-align:left">使Ispell跳过某个单词</td>
</tr>
<tr>
<td style="text-align:left">a</td>
<td style="text-align:left">使Ispell跳过缓冲区中所有的,某个拼写错误的单词；</td>
</tr>
<tr>
<td style="text-align:left">A</td>
<td style="text-align:left">告诉Ispell在此次编辑工作中接受这个单词；</td>
</tr>
<tr>
<td style="text-align:left">i</td>
<td style="text-align:left">让Ispell把该单词插入到个人字典里，这个字典保存在个人主目录下.ispell_<language>words文件中。</language></td>
</tr>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">让Ispell把单词转换成小写，然后存入字典</td>
</tr>
<tr>
<td style="text-align:left">C-r</td>
<td style="text-align:left">开始一次递归编辑，完成后“ESC C-c”退出递归编辑</td>
</tr>
<tr>
<td style="text-align:left">R</td>
<td style="text-align:left">在编辑缓冲区对这个单词进行查询-替换</td>
</tr>
<tr>
<td style="text-align:left">!</td>
<td style="text-align:left">把该单词的拼写错误全部改正</td>
</tr>
<tr>
<td style="text-align:left">ex</td>
<td style="text-align:left">退出拼写检查</td>
</tr>
</tbody>
</table>
<h4 id="查单词"><a href="#查单词" class="headerlink" title="查单词"></a>查单词</h4><p>“M-$”：ispell-word可以让Ispell检查单词是否拼写正确<br>“M-TAB“：ispell-complete-word，把单词的各种补足形式列出来</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-$</td>
<td style="text-align:left">ispell-word</td>
<td style="text-align:left">检查光标上或者光标后的单词</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">ispell-region</td>
<td style="text-align:left">检查文本块的单词</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">ispell-buffer</td>
<td style="text-align:left">检查缓冲区里的单词</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">ispell-emssage</td>
<td style="text-align:left">检查电子邮件正文的单词</td>
</tr>
<tr>
<td style="text-align:left">C-u M-$</td>
<td style="text-align:left">ispell-continue</td>
<td style="text-align:left">使用C-g取消后，再次重新开始继续检查</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">ispell-kill-ispell</td>
<td style="text-align:left">杀死Ispell进程</td>
</tr>
<tr>
<td style="text-align:left">M-TAB</td>
<td style="text-align:left">ispell-complete-word</td>
<td style="text-align:left">自动补全当前单词</td>
</tr>
</tbody>
</table>
<h3 id="spell"><a href="#spell" class="headerlink" title="spell"></a>spell</h3><p>测试没有发现unix的拼写检查器<br>spell-word<br>spell-buffer<br>spell-region</p>
<h2 id="3-11-单词简写模式（word-abbreviation-mode）"><a href="#3-11-单词简写模式（word-abbreviation-mode）" class="headerlink" title="3.11 单词简写模式（word abbreviation mode）"></a>3.11 单词简写模式（word abbreviation mode）</h2><p>简写词的作用范围是模式（文本模式、全局模式），输入某个简写词后按空格或者其他的字符，Emacs自动将其补充完整，如不想让刚输入的单词作为简写词，使用“M-x unexpand-abbrev RETURN”来取消扩展。</p>
<h3 id="为编辑工作临时定义的一些简写词汇"><a href="#为编辑工作临时定义的一些简写词汇" class="headerlink" title="为编辑工作临时定义的一些简写词汇"></a>为编辑工作临时定义的一些简写词汇</h3><p>“M-x abbrev-mode RETURN”进入单词简写模式，“C-x a i g”（add-inverse-global）定义全局，“C-x a i l”（add-inverse-local）定义局部性简写词。<br>“M-x write-abbrev-file RETURN”保存这些简写模式，一般保存在文件.abbrev_defs中。可以在.emacs文件中设置启动使加载该文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(setq-default abbrev-mode t)</span><br><span class="line">(read-abbrev-file &quot;~/.abbrev_defs&quot;)</span><br><span class="line">(setq save-abbrevs t)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-x edit-abbrevs RETURN</td>
<td style="text-align:left">编辑简写词汇，最安全的方法是使用“C-k”删除某一行，不要手动编辑，那样比较危险，最后保存简写条目。</td>
</tr>
<tr>
<td style="text-align:left">M-x list-abbrevs RETURN</td>
<td style="text-align:left">查看简写词汇</td>
</tr>
<tr>
<td style="text-align:left">M-x kill-all-abbrevs RETURN</td>
<td style="text-align:left">在本次编辑中禁用简写词汇</td>
</tr>
<tr>
<td style="text-align:left">M-x unexpand-abbrev“：撤销最近一个简写词定义条目</td>
</tr>
</tbody>
</table>
<p>简写词汇对字母大小写的规则</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Here are the rules:</span><br><span class="line">If the abbreviation&apos;s definition contains any uppercase letters, Emacs always inserts the</span><br><span class="line">definition without changing anything. For example, if you define ora as an abbreviation for</span><br><span class="line">O&apos;Reilly Media , O&apos;Reilly will always be capitalized exactly as shown.</span><br><span class="line">If the abbreviation&apos;s definition is all lowercase, Emacs capitalizes according to the following</span><br><span class="line">rules:</span><br><span class="line">If you type all of the letters of the abbreviation in lowercase, Emacs inserts the</span><br><span class="line">definition in lowercase.</span><br><span class="line">If you type any of the letters of the abbreviation in uppercase, Emacs capitalizes the</span><br><span class="line">first letter of the first word.</span><br><span class="line">If you type all of the letters of the abbreviation in uppercase, Emacs capitalizes thefirst letter of every word, unless the variable abbrev-all-caps is set to t ; in this</span><br><span class="line">case, it capitalizes all letters.</span><br></pre></td></tr></table></figure>
<h1 id="4-第四章-使用编辑缓冲区和窗口"><a href="#4-第四章-使用编辑缓冲区和窗口" class="headerlink" title="4. 第四章 使用编辑缓冲区和窗口"></a>4. 第四章 使用编辑缓冲区和窗口</h1><h2 id="4-1-编辑缓冲区"><a href="#4-1-编辑缓冲区" class="headerlink" title="4.1 编辑缓冲区"></a>4.1 编辑缓冲区</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x b</td>
<td style="text-align:left">切换缓冲区</td>
</tr>
<tr>
<td style="text-align:left">C-x C-b</td>
<td style="text-align:left">列出所有缓冲区</td>
</tr>
<tr>
<td style="text-align:left">C-x s</td>
<td style="text-align:left">save-some-buffers，Emacs会依次询问是否保存每个缓冲区，使用‘y’、‘n’来处理，或者‘!’来保存所有的编辑缓冲区；‘,’只保存某一个编辑缓冲区；‘q’取消该命令。</td>
</tr>
<tr>
<td style="text-align:left">C-x k</td>
<td style="text-align:left">kill-buffer，关闭缓冲区，默认是当前缓冲区</td>
</tr>
<tr>
<td style="text-align:left">M-x kill-some-buffers</td>
<td style="text-align:left">依次询问是否删除每一个缓冲区</td>
</tr>
<tr>
<td style="text-align:left">M-x rename-buffer</td>
<td style="text-align:left">更改缓冲区的名字</td>
</tr>
<tr>
<td style="text-align:left">C-x C-q</td>
<td style="text-align:left">把编辑缓冲区设置为只读属性，再次按下会取消只读属性</td>
</tr>
</tbody>
</table>
<h2 id="4-2-窗口编辑"><a href="#4-2-窗口编辑" class="headerlink" title="4.2 窗口编辑"></a>4.2 窗口编辑</h2><p>Emacs的窗口不可以重叠，可以让多个窗口显示同一个缓冲区，在一个窗口的修改将同步显示在另一个文件中。<br>但屏幕上只能有一个光标，即只能呆在一个窗口里；但每个窗口都有自己的插入点。<br>文本标记是与编辑缓冲区关联的，一个缓冲区只能有一个文本标记。</p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x 2</td>
<td style="text-align:left">创建水平排列的窗口，emacs后面接两个文件会默认打开水平排列的窗口</td>
</tr>
<tr>
<td style="text-align:left">C-x 3</td>
<td style="text-align:left">创建左右排列的窗口</td>
</tr>
<tr>
<td style="text-align:left">C-x o</td>
<td style="text-align:left">窗口之间移动,(o代表other的意思)，顺时针方向移动窗口，“ESC n C-x o”移动窗口的命令重复n次。</td>
</tr>
<tr>
<td style="text-align:left">C-x 0</td>
<td style="text-align:left">关闭当前窗口，不会关闭相应的缓冲区</td>
</tr>
<tr>
<td style="text-align:left">C-x 1</td>
<td style="text-align:left">关闭其余的窗口，只保留当前窗口</td>
</tr>
<tr>
<td style="text-align:left">M-x delete-windows-on RETURN buffername RETURN</td>
<td style="text-align:left">关闭某个缓冲区的所有窗口</td>
</tr>
<tr>
<td style="text-align:left">C-x ^</td>
<td style="text-align:left">加高当前窗口的高度</td>
</tr>
<tr>
<td style="text-align:left">C-x }</td>
<td style="text-align:left">加宽当前窗口的宽带</td>
</tr>
<tr>
<td style="text-align:left">M-x shrink-window</td>
<td style="text-align:left">降低当前窗口的高度</td>
</tr>
<tr>
<td style="text-align:left">C-x {</td>
<td style="text-align:left">减小当前窗口的宽度，“C-u”可以一次使窗口变化4行或者4列</td>
</tr>
<tr>
<td style="text-align:left">C-x +</td>
<td style="text-align:left">balance-windows，让各个窗口的大小相同</td>
</tr>
</tbody>
</table>
<p>窗口大小的上下限，依据变量window-min-height、window-min-width来确定<br>可以在不同的窗口之间拷贝文件</p>
<h3 id="在当前窗口对其他窗口操作"><a href="#在当前窗口对其他窗口操作" class="headerlink" title="在当前窗口对其他窗口操作"></a>在当前窗口对其他窗口操作</h3><p>“ESC C-v”让下一个窗口翻页<br>在命令中间添加数字“4”来实现，“C-x 4 f”让下一个窗口打开一个文件，“C-x 4 b”让下一个窗口打开一个缓冲区<br>这些命令都可以避免在窗口之间频繁移动</p>
<h3 id="对比两个窗口中的文件"><a href="#对比两个窗口中的文件" class="headerlink" title="对比两个窗口中的文件"></a>对比两个窗口中的文件</h3><p>首先打开两个窗口，插入点定位到文件的开始，输入命令“compare-windows”后插入点定位到两个文件的不同之处。插入点移动过第一个不同的位置之后，再次使用该命令可以找到第二处不同，依次类推。</p>
<h3 id="缓冲区清单"><a href="#缓冲区清单" class="headerlink" title="缓冲区清单"></a>缓冲区清单</h3><p>“C-x C-b”打开缓冲区清单，其中MR列字符含义：<br>. -&gt; 已显示；% -&gt; 只读；&gt; -&gt; 标记为待显示；</p>
<ul>
<li>-&gt; 已修改；D -&gt; 标记为待删除；S -&gt; 标记为待存盘<br>切换窗口“C-x o”进入缓冲区清单，可以在缓冲区清单中对缓冲区进行显示、删除、保存等操作<br>在缓冲区清单中可以使用“C-n”（或者空格）、“C-p”上下移动</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">d、k</td>
<td style="text-align:left">将某缓冲区标记为待删除，其第一列将显示D字符，且光标将移到下一行，此时使用“backspace”可以删除刚才设置的标记，或者移动光标到上一行，然后使用“u”来删除；之后按下“x”（表示execute）</td>
</tr>
<tr>
<td style="text-align:left">s</td>
<td style="text-align:left">将某缓冲区标记为待存盘，显示S字符，同样使用“x”执行</td>
</tr>
<tr>
<td style="text-align:left">~</td>
<td style="text-align:left">将缓冲区标记为未修改，立即生效</td>
</tr>
<tr>
<td style="text-align:left">%</td>
<td style="text-align:left">缓冲区的状态改成只读，其状态行将显示%%，也可以使用“C-x C-q”来切换</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">将缓冲区满屏显示</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">将该缓冲区显示在缓冲区清单窗口</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">将该缓冲区内容在缓冲区清单窗口显示</td>
</tr>
<tr>
<td style="text-align:left">o</td>
<td style="text-align:left">将缓冲区显示到另一个窗口，且光标移动到该窗口</td>
</tr>
<tr>
<td style="text-align:left">C-o</td>
<td style="text-align:left">将缓冲区显示到另一个窗口，但光标不移动</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">表示mark，在多个窗口上标记，然后使用“v”，Emacs将自动创建一些水平窗口来显示这些缓冲区</td>
</tr>
<tr>
<td style="text-align:left">q</td>
<td style="text-align:left">关闭缓冲区清单</td>
</tr>
</tbody>
</table>
<h2 id="4-3-书签"><a href="#4-3-书签" class="headerlink" title="4.3 书签"></a>4.3 书签</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x r m</td>
<td style="text-align:left">bookmark-set，在光标处设置书签书签名长度没有限制，且可以有空格</td>
</tr>
<tr>
<td style="text-align:left">C-x r b</td>
<td style="text-align:left">bookmark-jump，跳转到某个书签</td>
</tr>
<tr>
<td style="text-align:left">bookmark-rename</td>
<td style="text-align:left">对书签重命名</td>
</tr>
<tr>
<td style="text-align:left">bookmark-delete</td>
<td style="text-align:left">删除书签</td>
</tr>
<tr>
<td style="text-align:left">bookmark-save</td>
<td style="text-align:left">把书签全部保存到默认的书签文件里</td>
</tr>
<tr>
<td style="text-align:left">C-x r l</td>
<td style="text-align:left">bookmark-menulist，打开书签清单窗口</td>
</tr>
<tr>
<td style="text-align:left">bookmark-insert</td>
<td style="text-align:left">插入与给定书签关联文件的完整内容</td>
</tr>
<tr>
<td style="text-align:left">bookmark-write</td>
<td style="text-align:left">把书签全部保存到一个指定的文件</td>
</tr>
<tr>
<td style="text-align:left">bookmark-load</td>
<td style="text-align:left">从指定文件里加载书签</td>
</tr>
</tbody>
</table>
<h3 id="书签清单"><a href="#书签清单" class="headerlink" title="书签清单"></a>书签清单</h3><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x r l</td>
<td style="text-align:left">打开书签清单窗口</td>
</tr>
<tr>
<td style="text-align:left">d</td>
<td style="text-align:left">添加待删除标记</td>
</tr>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">执行待标记的操作</td>
</tr>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">去掉书签上的待删除标记</td>
</tr>
<tr>
<td style="text-align:left">DEL</td>
<td style="text-align:left">删除刚刚标记的操作</td>
</tr>
<tr>
<td style="text-align:left">r</td>
<td style="text-align:left">对书签重命名</td>
</tr>
<tr>
<td style="text-align:left">s</td>
<td style="text-align:left">把书签全都保存起来</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">标记待打开的书签，“v”前面标记的书签</td>
</tr>
<tr>
<td style="text-align:left">v</td>
<td style="text-align:left">打开该书签</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">打开该书签</td>
</tr>
<tr>
<td style="text-align:left">t</td>
<td style="text-align:left">显示和隐藏书签所对应的文件路径</td>
</tr>
<tr>
<td style="text-align:left">w</td>
<td style="text-align:left">在状态行显示标签对应文件的路径</td>
</tr>
<tr>
<td style="text-align:left">q</td>
<td style="text-align:left">退出书签清单</td>
</tr>
</tbody>
</table>
<h2 id="4-4-临时挂起Emacs"><a href="#4-4-临时挂起Emacs" class="headerlink" title="4.4 临时挂起Emacs"></a>4.4 临时挂起Emacs</h2><p>“C-z”可以挂起Emacs，不过书中忠告：几乎永远没有任何理由离开Emacs。</p>
<h2 id="4-4-窗格"><a href="#4-4-窗格" class="headerlink" title="4.4 窗格"></a>4.4 窗格</h2><p>Emacs把X窗口称为窗格frame，其操作和窗口相似。例如窗口使用“C-x 4 f”查找文件，窗格使用“C-x 5 f”查找文件</p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x 5 2</td>
<td style="text-align:left">make-frame，创建一个新窗格</td>
</tr>
<tr>
<td style="text-align:left">C-x 5 0</td>
<td style="text-align:left">delete-frame，关闭一个当前的窗格</td>
</tr>
<tr>
<td style="text-align:left">C-x 5 b</td>
<td style="text-align:left">switch-to-buffer-other-frame，在新窗格里打开一个缓冲区</td>
</tr>
<tr>
<td style="text-align:left">C-x 5 o</td>
<td style="text-align:left">other-frame，进入另一个窗格</td>
</tr>
<tr>
<td style="text-align:left">C-x 5 r</td>
<td style="text-align:left">find-file-read-only-other-frame，创建新窗格以只读方式打开文件</td>
</tr>
<tr>
<td style="text-align:left">C-x 5 f</td>
<td style="text-align:left">find-file-other-frame，在一个新窗格里查找打开文件</td>
</tr>
</tbody>
</table>
<h1 id="5-第五章-Emacs工作环境"><a href="#5-第五章-Emacs工作环境" class="headerlink" title="5. 第五章 Emacs工作环境"></a>5. 第五章 Emacs工作环境</h1><h2 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h2><p>shell-file-name变量决定使用那种shell来执行各种命令<br>“M-!”：执行一条shell命令，结果显示在一个编辑缓冲区中，可以对该缓冲区编辑、保存或者其他任何操作<br>“M-|”:shell-command-on-region，先标记一段文本，然后将该文本作为输入来执行shell命令<br>“C-u M-!”：将shell执行的命令直接放入当前编辑缓冲区</p>
<h2 id="shell模式"><a href="#shell模式" class="headerlink" title="shell模式"></a>shell模式</h2><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-x shell</td>
<td style="text-align:left">启动shell编辑缓冲区，在该编辑缓冲区可以进行shell命令，也可以使用Emacs对缓冲区的操作，但有些shell命令需要在使用之前加上“C-c”，如“C-c”、“C-z”、“C-d”、“C-u”等</td>
</tr>
<tr>
<td style="text-align:left">M-p</td>
<td style="text-align:left">把最后输入的一条shell命令放在命令提示符之后，继续使用调出之前的命令，“M-n”配合使用，两个均是Emacs用于历史命令的操作</td>
</tr>
<tr>
<td style="text-align:left">RETURN</td>
<td style="text-align:left">可以移动插入点到某一条命令，然后使用回车来执行该命令，也可以编辑之后再执行</td>
</tr>
<tr>
<td style="text-align:left">TAB</td>
<td style="text-align:left">自动补全</td>
</tr>
<tr>
<td style="text-align:left">C-c C-o</td>
<td style="text-align:left">自动删除上一条命令的输出，假如其输出太多而影响其他的操作。但其只能删除上一条命名的输出，</td>
</tr>
<tr>
<td style="text-align:left">C-c C-r</td>
<td style="text-align:left">上一条命名输出的第一行显示出来（输出太多时）</td>
</tr>
<tr>
<td style="text-align:left">C-c C-e</td>
<td style="text-align:left">上一条命名输出的最后一行显示出来</td>
</tr>
<tr>
<td style="text-align:left">C-c C-p</td>
<td style="text-align:left">在各条命令的输出之间跳转，向上跳</td>
</tr>
<tr>
<td style="text-align:left">C-c C-n</td>
<td style="text-align:left">在各条命令的输出之间跳转，向下跳</td>
</tr>
<tr>
<td style="text-align:left">rename-uniquely</td>
<td style="text-align:left">重命名当前shell，然后就可以打开另一个新的shell，可以打开任意多个</td>
</tr>
</tbody>
</table>
<h2 id="文件和目录操作"><a href="#文件和目录操作" class="headerlink" title="文件和目录操作"></a>文件和目录操作</h2><p>Dired模式（directory editing mode）提供了对目录进行编辑的有效手段。启动Emacs可以加上一个目录名进入Dired模式，或者使用“C-x C-f”加一个目录的名字同样可以进入Dired模式，或者“C-x d”（命令名dired）进入Dired模式。所有的清单操作都几乎相同。<br><strong>Dired是直接对文件进行操作的，删除就会使一个文件永久消失</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">s</td>
<td style="text-align:left">dired-sort-toggle-or-edit</td>
<td style="text-align:left">更改文件清单以名字或者日期来排序</td>
</tr>
<tr>
<td style="text-align:left">v</td>
<td style="text-align:left">dired-view-file</td>
<td style="text-align:left">以查看模式view-mode来显示该文件</td>
</tr>
<tr>
<td style="text-align:left">q</td>
<td style="text-align:left"></td>
<td style="text-align:left">查看文件后，返回目录文件清单或者退出dired</td>
</tr>
<tr>
<td style="text-align:left">Q</td>
<td style="text-align:left">dired-do-query-replace</td>
<td style="text-align:left">在加油待操作标记的文件里对字符串进行查找-替换操作</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">dired-advertised-find-file</td>
<td style="text-align:left">查找文件，以对他编辑文件</td>
</tr>
<tr>
<td style="text-align:left">d</td>
<td style="text-align:left">dired-flag-file-deletion，</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">dired-unmark</td>
<td style="text-align:left">去掉待操作标记</td>
</tr>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">dired-do-flagged-delete</td>
<td style="text-align:left">删除有待删除标记的文件</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">dired-mark</td>
<td style="text-align:left">给文件添加”*“待操作操作，前面可加数字</td>
</tr>
<tr>
<td style="text-align:left">M-{</td>
<td style="text-align:left">dired-prev-marked-file</td>
<td style="text-align:left">移动到前一个有标记的文件上</td>
</tr>
<tr>
<td style="text-align:left">M-}</td>
<td style="text-align:left">dired-next-marked-file</td>
<td style="text-align:left">移动到后一个有标记的文件上</td>
</tr>
<tr>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">dired-priv-dirline</td>
<td style="text-align:left">移动到上一个目录</td>
</tr>
<tr>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">dired-next-dirline</td>
<td style="text-align:left">移动到下一个目录</td>
</tr>
<tr>
<td style="text-align:left">#</td>
<td style="text-align:left"></td>
<td style="text-align:left">给所有自动保存的文件加上待删除标志</td>
</tr>
<tr>
<td style="text-align:left">~</td>
<td style="text-align:left"></td>
<td style="text-align:left">给所有的备份文件加上待删除标记</td>
</tr>
<tr>
<td style="text-align:left">D</td>
<td style="text-align:left">dired-do-delete</td>
<td style="text-align:left">直接删除文件，此处大小写导致操作不同较特殊</td>
</tr>
<tr>
<td style="text-align:left">C</td>
<td style="text-align:left">dired-do-copy</td>
<td style="text-align:left">复制该文件，前面可以加数字用于复制多个文件</td>
</tr>
<tr>
<td style="text-align:left">R</td>
<td style="text-align:left"></td>
<td style="text-align:left">文件重命名，等同于UNIX的移动操作</td>
</tr>
<tr>
<td style="text-align:left">e</td>
<td style="text-align:left">dired-find-file</td>
<td style="text-align:left">编辑文件</td>
</tr>
<tr>
<td style="text-align:left">G</td>
<td style="text-align:left">dired-do-chgrp</td>
<td style="text-align:left">改变文件的组权限</td>
</tr>
<tr>
<td style="text-align:left">k</td>
<td style="text-align:left">dired-do-kill-lines</td>
<td style="text-align:left">从画面上删除当前行（不是删除文件）</td>
</tr>
<tr>
<td style="text-align:left">n</td>
<td style="text-align:left">dired-next-line</td>
<td style="text-align:left">移动到下一行</td>
</tr>
<tr>
<td style="text-align:left">o</td>
<td style="text-align:left">dired-find-file-other-window</td>
<td style="text-align:left">移动到新窗口</td>
</tr>
<tr>
<td style="text-align:left">C-o</td>
<td style="text-align:left">dired-sirplay-file</td>
<td style="text-align:left">在另一个窗口里查找文件，但不移动光标</td>
</tr>
<tr>
<td style="text-align:left">g</td>
<td style="text-align:left">revert-buffer</td>
<td style="text-align:left">刷新文件缓冲区</td>
</tr>
<tr>
<td style="text-align:left">G</td>
<td style="text-align:left">dired-do-chgrp</td>
<td style="text-align:left">改变文件的组权限</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">dired-mark</td>
<td style="text-align:left">给文件加上”*“待操作标记，前面可加数字</td>
</tr>
<tr>
<td style="text-align:left">P</td>
<td style="text-align:left">dired-do-print</td>
<td style="text-align:left">打印文件</td>
</tr>
</tbody>
</table>
<h3 id="利用Dired模式进行文件的压缩和解压"><a href="#利用Dired模式进行文件的压缩和解压" class="headerlink" title="利用Dired模式进行文件的压缩和解压"></a>利用Dired模式进行文件的压缩和解压</h3><p>“Z”： 对文件进行压缩和解压</p>
<h3 id="文件比对"><a href="#文件比对" class="headerlink" title="文件比对"></a>文件比对</h3><p>“=”：可是利用diff来比对两个文件</p>
<h3 id="文件上运行UNIX命令"><a href="#文件上运行UNIX命令" class="headerlink" title="文件上运行UNIX命令"></a>文件上运行UNIX命令</h3><p>“!”：dired-do-shell-command，对文件运行UNIX命令，复杂的命令需要文件名时可以用’*’代替</p>
<h3 id="对文件组进行操作"><a href="#对文件组进行操作" class="headerlink" title="对文件组进行操作"></a>对文件组进行操作</h3><h4 id="选取文件"><a href="#选取文件" class="headerlink" title="选取文件"></a>选取文件</h4><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">d</td>
<td style="text-align:left">待删除</td>
</tr>
<tr>
<td style="text-align:left">m</td>
<td style="text-align:left">dired-mark，待操作，前面可加数字</td>
</tr>
<tr>
<td style="text-align:left">M-DEL</td>
<td style="text-align:left">dired-unmark-all-files，去掉所有待操作文件</td>
</tr>
<tr>
<td style="text-align:left">%m”、“%d</td>
<td style="text-align:left">利用正则表达式来标记文件</td>
</tr>
</tbody>
</table>
<h4 id="文件组上的操作"><a href="#文件组上的操作" class="headerlink" title="文件组上的操作"></a>文件组上的操作</h4><p>“+”：dired-cerate-directory，创建目录<br>“Q”：dired-do-query-replace，对选的的文件进行查询替换操作</p>
<h4 id="简单的目录清单"><a href="#简单的目录清单" class="headerlink" title="简单的目录清单"></a>简单的目录清单</h4><p>“C-u C-x C-d”：给出一个详细的文件清单<br>“C-x C-d”：给出一个简单的文件清单<br>这两条命令都只是将文件清单放到了一个文件缓冲区里，可以对其进行任意的编辑，所有操作都不会对文件有影响。</p>
<h2 id="打印操作"><a href="#打印操作" class="headerlink" title="打印操作"></a>打印操作</h2><h2 id="查看UNIX在线文档"><a href="#查看UNIX在线文档" class="headerlink" title="查看UNIX在线文档"></a>查看UNIX在线文档</h2><p>“M-x man“： 将排版好的使用手册放到一个编辑缓冲区<br>“M-x manual-entry RETURN command-name RETURN”:  可以随心所欲的翻阅使用手册，且显示整齐</p>
<h2 id="时间管理工具"><a href="#时间管理工具" class="headerlink" title="时间管理工具"></a>时间管理工具</h2><h3 id="时间"><a href="#时间" class="headerlink" title="时间"></a>时间</h3><p>“M-x display-time”:在状态行显示时钟</p>
<h3 id="日历"><a href="#日历" class="headerlink" title="日历"></a>日历</h3><p>“M-x calender”:查看日历<br>“g d”:依次输入年份、月份、日期来跳转<br>有很多可以在日历之间移动的命令<br><strong>可以设置成其他的日历，不知道是否支持农历</strong><br>支持查看节假日，日出日落，月相等</p>
<h3 id="日记"><a href="#日记" class="headerlink" title="日记"></a>日记</h3><table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">g d</td>
<td style="text-align:left">calendar-print-day-of-year</td>
<td style="text-align:left">显示今天是本年度的第几天</td>
</tr>
<tr>
<td style="text-align:left">SPACE</td>
<td style="text-align:left">scroll-other-window</td>
<td style="text-align:left">卷动另一个窗口</td>
</tr>
<tr>
<td style="text-align:left">q</td>
<td style="text-align:left">exit-claender</td>
<td style="text-align:left">退出日历功能</td>
</tr>
</tbody>
</table>
<h1 id="7-第七章-Emacs的Internet工具箱"><a href="#7-第七章-Emacs的Internet工具箱" class="headerlink" title="7. 第七章 Emacs的Internet工具箱"></a>7. 第七章 Emacs的Internet工具箱</h1><p>在Emacs中可以使用Telnet模式<br>使用w3m浏览网页<br>使用DocView查看PDF文件</p>
<h1 id="8-第八章-简单的文字排版和特效编辑"><a href="#8-第八章-简单的文字排版和特效编辑" class="headerlink" title="8. 第八章 简单的文字排版和特效编辑"></a>8. 第八章 简单的文字排版和特效编辑</h1><h2 id="8-1-文本的缩进"><a href="#8-1-文本的缩进" class="headerlink" title="8.1 文本的缩进"></a>8.1 文本的缩进</h2><table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">M-m</td>
<td style="text-align:left">back-to-indentation</td>
<td style="text-align:left">移动到文本行的第一个非空白字符上</td>
</tr>
<tr>
<td style="text-align:left">ESC C-o</td>
<td style="text-align:left">split-line</td>
<td style="text-align:left">把句子分成台阶状</td>
</tr>
</tbody>
</table>
<h2 id="8-2-文本的居中"><a href="#8-2-文本的居中" class="headerlink" title="8.2 文本的居中"></a>8.2 文本的居中</h2><h2 id="8-3-插入分页符"><a href="#8-3-插入分页符" class="headerlink" title="8.3 插入分页符"></a>8.3 插入分页符</h2><h2 id="8-4-矩形编辑"><a href="#8-4-矩形编辑" class="headerlink" title="8.4 矩形编辑"></a>8.4 矩形编辑</h2><p>定义矩形：利用“C-@”在矩形的左上角设置文本块标记，然后移动到矩形的右下角之右一个字符（光标上的字符不属于文本块），</p>
<table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x r k</td>
<td style="text-align:left">kill-rectangle</td>
<td style="text-align:left">删除一个矩形并保存</td>
</tr>
<tr>
<td style="text-align:left">C-x r d</td>
<td style="text-align:left">delete-rectangle</td>
<td style="text-align:left">删除一个矩形块但不保存</td>
</tr>
<tr>
<td style="text-align:left">C-x r y</td>
<td style="text-align:left">yank-rectangle</td>
<td style="text-align:left">粘贴最后一次删除的矩形</td>
</tr>
<tr>
<td style="text-align:left">C-x r c</td>
<td style="text-align:left">clear-rectangle</td>
<td style="text-align:left">清楚矩形区域的内容，且不保存</td>
</tr>
<tr>
<td style="text-align:left">C-x r o</td>
<td style="text-align:left">open-rectangle</td>
<td style="text-align:left">在矩形区域里插入一个空白矩形</td>
</tr>
</tbody>
</table>
<h2 id="8-5-绘制简单的图形"><a href="#8-5-绘制简单的图形" class="headerlink" title="8.5 绘制简单的图形"></a>8.5 绘制简单的图形</h2><table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">edit-picture</td>
<td style="text-align:left">进入图形模式</td>
</tr>
<tr>
<td style="text-align:left">C-c C-c</td>
<td style="text-align:left">picture-mode-edit</td>
<td style="text-align:left">退出图形模式</td>
</tr>
<tr>
<td style="text-align:left">C-c ^</td>
<td style="text-align:left">picture-movement-up</td>
<td style="text-align:left">绘制方向向上</td>
</tr>
<tr>
<td style="text-align:left">C-c .</td>
<td style="text-align:left">picture-movement-down</td>
<td style="text-align:left">绘制方向向下</td>
</tr>
<tr>
<td style="text-align:left">C-c &gt;</td>
<td style="text-align:left">picture-movement-right</td>
<td style="text-align:left">绘制方向向左</td>
</tr>
<tr>
<td style="text-align:left">C-c &lt;</td>
<td style="text-align:left">picture-movement-left</td>
<td style="text-align:left">绘制方向为右</td>
</tr>
<tr>
<td style="text-align:left">C-c `</td>
<td style="text-align:left">picture-movement-nw</td>
<td style="text-align:left">绘制方向右上（上北下南左西右东）</td>
</tr>
<tr>
<td style="text-align:left">C-c ‘</td>
<td style="text-align:left">picture-movement-ne</td>
<td style="text-align:left">绘制方向左上</td>
</tr>
<tr>
<td style="text-align:left">C-c /</td>
<td style="text-align:left">picture-movement-sw</td>
<td style="text-align:left">绘制方向左下</td>
</tr>
<tr>
<td style="text-align:left">C-c \</td>
<td style="text-align:left">picture-movement-se</td>
<td style="text-align:left">绘制方向为右下</td>
</tr>
<tr>
<td style="text-align:left">C-c C-f</td>
<td style="text-align:left">picture-motion</td>
<td style="text-align:left">按绘制方向移动</td>
</tr>
<tr>
<td style="text-align:left">C-c C-b</td>
<td style="text-align:left">picture-motion-reverse</td>
<td style="text-align:left">绘制的反方向移动</td>
</tr>
<tr>
<td style="text-align:left">C-c C-p</td>
<td style="text-align:left">picture</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">C-c C-n</td>
<td style="text-align:left">picture</td>
</tr>
</tbody>
</table>
<h2 id="8-6-Emacs大纲模式"><a href="#8-6-Emacs大纲模式" class="headerlink" title="8.6 Emacs大纲模式"></a>8.6 Emacs大纲模式</h2><p>大纲模式可以有选择的显示和隐藏文章内容<br>不要混用大纲主模式和大纲副模式</p>
<table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-c C-n</td>
<td style="text-align:left">outline-next-visible-heading</td>
<td style="text-align:left">移动到下一个标题</td>
</tr>
<tr>
<td style="text-align:left">C-c C-p</td>
<td style="text-align:left">outline-previous-visible-heading</td>
<td style="text-align:left">移动到上一个标题</td>
</tr>
<tr>
<td style="text-align:left">C-c C-f</td>
<td style="text-align:left">outline-forward-same-level</td>
<td style="text-align:left">移动到上一个同级标题</td>
</tr>
<tr>
<td style="text-align:left">C-c C-b</td>
<td style="text-align:left">outline-backward-same-level</td>
<td style="text-align:left">移动到下一个同级标题</td>
</tr>
<tr>
<td style="text-align:left">C-c C-u</td>
<td style="text-align:left">outline-up-heading</td>
<td style="text-align:left">移动到上一级别的标题</td>
</tr>
<tr>
<td style="text-align:left">C-c C-t</td>
<td style="text-align:left">hide-body</td>
<td style="text-align:left">隐藏全体正文</td>
</tr>
<tr>
<td style="text-align:left">C-c C-d</td>
<td style="text-align:left">hide-subtree</td>
<td style="text-align:left">隐藏某标题及其下级小标题的全部正文</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">hide-entry</td>
<td style="text-align:left">隐藏某标题的正文，不包括其下级小标题</td>
</tr>
<tr>
<td style="text-align:left">C-c C-l</td>
<td style="text-align:left">hide-leaves</td>
<td style="text-align:left">隐藏某标题及其小标题的正文部分</td>
</tr>
<tr>
<td style="text-align:left">C-c C-a</td>
<td style="text-align:left">show-all</td>
<td style="text-align:left">显示所有内容</td>
</tr>
<tr>
<td style="text-align:left">C-c C-s</td>
<td style="text-align:left">show-subtree</td>
<td style="text-align:left">显示某给定标题的下级小标题和正文</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">show-entry</td>
<td style="text-align:left">显示某给定标题的正文，不包括其下级小标题</td>
</tr>
<tr>
<td style="text-align:left">C-c C-k</td>
<td style="text-align:left">show-branches</td>
<td style="text-align:left">显示某标题的正文及其全体下级标题的正文</td>
</tr>
</tbody>
</table>
<h1 id="11-第十一章-对Emacs进行定制"><a href="#11-第十一章-对Emacs进行定制" class="headerlink" title="11. 第十一章 对Emacs进行定制"></a>11. 第十一章 对Emacs进行定制</h1><h2 id="11-1-添加Emacs按键绑定"><a href="#11-1-添加Emacs按键绑定" class="headerlink" title="11.1 添加Emacs按键绑定"></a>11.1 添加Emacs按键绑定</h2><p>(define-key keymap “keystroke” ‘command-name)<br>(global-set-key “keystroke” ‘command-name)<br>(local-set-key “keystroke” ‘command-name)</p>
<h3 id="键盘的特殊键"><a href="#键盘的特殊键" class="headerlink" title="键盘的特殊键"></a>键盘的特殊键</h3><p>任何键盘上的特殊按键产生的字符代码都是一个特殊字符加几个可打印字符。</p>
<h3 id="不重启emacs就使-emacs立即生效的方法"><a href="#不重启emacs就使-emacs立即生效的方法" class="headerlink" title="不重启emacs就使.emacs立即生效的方法"></a>不重启emacs就使.emacs立即生效的方法</h3><ul>
<li>用 emacs 打开 .emacs 文件，C-x C-e 光标前面的运行一条语句。立即生效。</li>
<li>选择一个 region , M-x eval-region</li>
<li>M-x load-file ~/.emacs</li>
<li>M-x eval-buffer</li>
</ul>
<h1 id="12-第十二章-程序员的Emacs"><a href="#12-第十二章-程序员的Emacs" class="headerlink" title="12. 第十二章 程序员的Emacs"></a>12. 第十二章 程序员的Emacs</h1><h2 id="12-5-对程序进行编译"><a href="#12-5-对程序进行编译" class="headerlink" title="12.5 对程序进行编译"></a>12.5 对程序进行编译</h2><p>Emacs准备了一个面向编译器和UNIX的make工具的接口，与shell模式相比，这个接口更直接、更强大，接口的核心命令是“compile”，将引发一连串的事件。默认的编译命令是“make -k”，可以通过compile-command进行修改。输入编译命令后，Emacs会自动把未存盘的编辑缓冲区保存起来，接着在一个关联窗口里创建一个名为“<em>compilation</em>”的编辑缓冲区，用于运行编译命令<br>Emacs使用变量compilation-error-regexp-alist对错误信息进行分析，该变量是一个由正则表达式构成的列表，用于对列出的错误信息进行匹配，Emacs会利用列表中额每一条正则表达式对一条出错信息进行尝试性分析，直到找到那条能够用来准确地提取出错误发生地点的文件名和行号的正则表达式为止。但也有可能出错，可以自己增加出错信息格式的正则表达式。<br>编译模式命令速查表</p>
<table>
<thead>
<tr>
<th style="text-align:left">键盘操作</th>
<th style="text-align:left">命令名称</th>
<th style="text-align:left">动作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">C-x `</td>
<td style="text-align:left">next-error</td>
<td style="text-align:left">移动到下一条出错信息并访问与之对应的源代码；前面加上C-u可以调到第一条出错信息；且在编译的过程中也可以使用</td>
</tr>
<tr>
<td style="text-align:left">M-n</td>
<td style="text-align:left">compilation-next-error</td>
<td style="text-align:left">移动到下一条出错信息</td>
</tr>
<tr>
<td style="text-align:left">M-p</td>
<td style="text-align:left">compilation-previous-error</td>
<td style="text-align:left">移动到上一条出错信息，这两条命令仅用于访问出信息</td>
</tr>
<tr>
<td style="text-align:left">C-c C-c</td>
<td style="text-align:left">compilation-goto-error</td>
<td style="text-align:left">访问对应于当前出错信息的源代码</td>
</tr>
<tr>
<td style="text-align:left">SPACE</td>
<td style="text-align:left">scroll-down</td>
<td style="text-align:left">下卷屏幕显示内容</td>
</tr>
<tr>
<td style="text-align:left">DEL</td>
<td style="text-align:left">scroll-up</td>
<td style="text-align:left">上卷屏幕显示内容；这两条卷屏命令用于所有Emacs的只读模式的卷屏</td>
</tr>
</tbody>
</table>
<p>grep命令提供多个文件里进行查找分析的能力，查找结果的查看操作同上表。</p>
<h1 id="13-第十三章-用LISP语言对Emacs做进一步开发"><a href="#13-第十三章-用LISP语言对Emacs做进一步开发" class="headerlink" title="13. 第十三章 用LISP语言对Emacs做进一步开发"></a>13. 第十三章 用LISP语言对Emacs做进一步开发</h1><h2 id="13-1-LISP语言"><a href="#13-1-LISP语言" class="headerlink" title="13.1 LISP语言"></a>13.1 LISP语言</h2><p>函数、变量、原子项是LISP语言最基本的元素。</p>
<h2 id="13-2-LISP函数"><a href="#13-2-LISP函数" class="headerlink" title="13.2 LISP函数"></a>13.2 LISP函数</h2><p>函数是LISP语言中唯一的程序单元。由基本元素组成的list构成。<br>一切函数都有返回值：函数最后一个列表项的值<br>函数调用语句：(function-name grgument1 argument2 …)</p>
<h3 id="LISP变量"><a href="#LISP变量" class="headerlink" title="LISP变量"></a>LISP变量</h3><p>LISP变量没有类型，可以取任何类型的值。</p>
<h3 id="原子项"><a href="#原子项" class="headerlink" title="原子项"></a>原子项</h3><p>原子项是任意类型的值：整数、浮点数、字符串、布尔值、符号、缓冲区、窗口、进程等等<br>例子：setq可以一次对多个变量赋值<br>(setq thisvar thisvalue<br>      thatvar thatvalue<br>      auto-save-interval 800)</p>
<h3 id="LISP函数定义"><a href="#LISP函数定义" class="headerlink" title="LISP函数定义"></a>LISP函数定义</h3><p>变量名、函数名使用“-”作为间隔字符<br>程序大量使用“()”，即列表<br>例子：统计缓冲区单词个数<br>(defun count-word-buffer ()<br>  “Count the number of words in the current buffers;<br>print a messaage in the minbuffer with the result.”<br>  (interactive)<br>  (let ((count 0))<br>    (goto-char (point-min))<br>    (while (&lt; (point) (point-max))<br>          (forward-word 1)<br>          (setq count (1+ count)))<br>     (message “buffer words %d word” count)))</p>
<p>defun是一个函数，调用该函数时会定义一个新函数，其返回值就是新函数的名字；<br>函数的参数放在变量列表里，若参数前有“&amp;optional”代表其是可选参数，默认值为“nil”<br>lambda用来定义匿名函数</p>
<p>(let ((val1 value1) (val2 value2) …)<br>     statement-body)<br>let首先对变量进行定义并赋值，然后执行语句块中的内容。<br>let创建了一个知道那些变量的语句块，let语句块也称为变量的scope</p>
<p>(while condition<br>       statement-block)</p>
<h2 id="13-3-把LISP函数转换成Emacs命令"><a href="#13-3-把LISP函数转换成Emacs命令" class="headerlink" title="13.3 把LISP函数转换成Emacs命令"></a>13.3 把LISP函数转换成Emacs命令</h2><p>interactive把函数注册为Emacs的一个命令，其必须紧跟在包含defun和文档字符串的那个代码行的后面，提示字符串用于提示用户输入在defun语句里声明的参数。<br>(interactive “sReplace string: \nsReplace string %s with:”)<br>提示字符串格式要求：必须为每一个输入参数准备一个提示字符串的子字符串，自字符串之间使用LINEFEED”\n”分割，每一个子字符串的第一个字母必须是一个用来表示该参数类型的代码，常用参数类型代码：</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数类型代码</th>
<th style="text-align:left">参数类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">b</td>
<td style="text-align:left">一个现有编辑缓冲区的名字</td>
</tr>
<tr>
<td style="text-align:left">B</td>
<td style="text-align:left">一个肯存在的缓冲区的名字</td>
</tr>
<tr>
<td style="text-align:left">e</td>
<td style="text-align:left">事件（鼠标动作或功能键动作）</td>
</tr>
<tr>
<td style="text-align:left">f</td>
<td style="text-align:left">一个现有文件的名字</td>
</tr>
<tr>
<td style="text-align:left">F</td>
<td style="text-align:left">一个可能不存在的文件的名字</td>
</tr>
<tr>
<td style="text-align:left">n</td>
<td style="text-align:left">整数</td>
</tr>
<tr>
<td style="text-align:left">N</td>
<td style="text-align:left">。。。</td>
</tr>
<tr>
<td style="text-align:left">s</td>
<td style="text-align:left">字符串</td>
</tr>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">符号</td>
</tr>
</tbody>
</table>
<p>interactive同样可以使函数被其他LISP代码调用。</p>
<h3 id="文档字符串"><a href="#文档字符串" class="headerlink" title="文档字符串"></a>文档字符串</h3><p>documentation string简称doc string是用户发出在线求助命令时将看到的帮助信息，他是可选的，且长度是任意多行，但其第一行是用来对命令功能进行介绍的一个完整而又精炼的句子，字符串中的特殊字符需要转义。</p>
<h2 id="13-4-LISP基础函数"><a href="#13-4-LISP基础函数" class="headerlink" title="13.4 LISP基础函数"></a>13.4 LISP基础函数</h2><p>LISP统一使用函数实现各种操作（比如其他程序语言使用的操作符）<br>算数运算：<br>+、-、*、/（加、减、乘、除）<br>%（求余）<br>1+（递增）<br>1-（递减）<br>max（最大值）、min（最小值）<br>比较运算：</p>
<blockquote>
<p>、&lt;、&gt;=、&lt;=<br>/=（不等于）<br>=（数字和字符的相等）<br>逻辑运算：<br>equal（字符串及其他复杂的数据对象判断相等）</p>
</blockquote>
<h3 id="语句块"><a href="#语句块" class="headerlink" title="语句块"></a>语句块</h3><p>(progn<br>    statement-block)<br>(let (var1 var2 …)<br>     statement-block)<br>(let ((var1 value1) (var2 value2) …)<br>     statement-block)<br>(let (var1 (var2 value2) var3)<br>     statement-block)<br>(let* (var1 …)<br>      statement-block)</p>
<h3 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h3><p>while、if、cond</p>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><h2 id="13-5-定制主编辑模式"><a href="#13-5-定制主编辑模式" class="headerlink" title="13.5 定制主编辑模式"></a>13.5 定制主编辑模式</h2><p>列表是LISP语言的一个基本概念。<br>Emacs的各个主编辑模式都有一些可以把自己的代码添加上去的挂钩“mode-hooks”，C模式有c-mode-hook，shell模式有shell-mode-hook<br>挂钩是一种特殊的变量，这些变量的值是一些LISP代码，在相应的编辑模式启动时得到运行。负责实现某个编辑模式的LISP代码留出一个位置，使你有机会改变他已经设置好的一些东西。<br>使用函数add-hook，<br>(add-hook ‘mode-name-hook<br>      (lambda ()<br>            code-for-mode-hook))<br>编辑模式挂钩常用于为某个编辑模式的特殊命令修改一个或者多个按键绑定。</p>
<p><strong>如果只是给变量重新设置一个值，就不需要挂钩，但如果想运行函数，就必须使用挂钩。</strong><br>诸如c-macro-preprocessor之类的变量是属于编辑模式局部范畴之内的，如果没有启动对该模式做出定义的编辑模式，他们就不会存在。但只要“.emacs”文件包含一个给这个变量赋值的setq语句，那么不管是否使用该模式，这个变量就已经存在了，之后加载该模式，Emacs注意到已经设置过这个变量的值，于是就不会再覆盖掉他。<br>但函数就不同了，如果“.emacs”文件里有一个属于某个编辑模式的局部函数，Emacs无法得知该函数属于哪个编辑模式，更不用说起作用了，因此函数必须挂到某个模式上，等Emacs运行挂钩时，由于已经加载了该模式，就可以得知这个函数的作用。</p>
<p>总之挂钩可以让你在不触动实现编辑模式的LISP代码的前提下对他们进行各种各样的定制。</p>
<h2 id="13-6-建立自己的LISP开发库"><a href="#13-6-建立自己的LISP开发库" class="headerlink" title="13.6 建立自己的LISP开发库"></a>13.6 建立自己的LISP开发库</h2><p>就像Emacs自带的lisp目录一样，Emacs的内建LISP代码都在这个目录里，建立自己的开发库，就能做到只在必要的时候加载必要的LISP程序包，不用再把他们全都塞到“.emacs”文件里。<br>创建一个目录，经自己的LISP代码全都放进去，然后告诉Emacs有这么一个目录。一般在全局变量load-path中设置，其是一个有字符串元素组成的列表，每个字符串是一个目录名。<br>(setq load-path (append load-path (list (“dir-path”))))<br>在.emacs文件中添加改行就可以，放在加载程序包命令之前<br>(setq load-path (cons load-path (list (“dir-path”))))<br>可使得Emacs查找自己的LISP子目录<br>有四种方法可以加载LISP程序包</p>
<ul>
<li>输入用户级命令load-library</li>
<li>在.emacs中加上(load “package-name”)</li>
<li>启动Emacs时加上“-l package-name”</li>
<li>在.emacs中加上(autoload ‘function “filename”)将在执行给定函数时自动加载相应的程序包<h2 id="13-7-对LISP文件进行字节编译"><a href="#13-7-对LISP文件进行字节编译" class="headerlink" title="13.7 对LISP文件进行字节编译"></a>13.7 对LISP文件进行字节编译</h2>如果对LISP文件进行了byte-compiling，即把文件中的LISP转换成字节代码，就能更有效的加载和使用它们，对LISP文件filename.el进行字节编译将创建出一个字节代码文件filename.elc<br>当load-library遇到参数“filename”时查找顺序：filename.elc、filename.el、filename<br><strong>compile-defun对某个函数进行编译</strong><br><strong>byte-compile-file对整个LISP文件进行编译</strong><br><strong>byte-recompile-directory对整个LISP文件目录进行重编译，且只编译更改的文件</strong></li>
</ul>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/06/02/tools/markdown/" rel="next" title="markdown 语法">
                <i class="fa fa-chevron-left"></i> markdown 语法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/21/emotion/love/" rel="prev" title="情话">
                情话 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNzU0Ny8xNDA3OQ=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/polarbear.jpg"
                alt="Kyle Three Stone" />
            
              <p class="site-author-name" itemprop="name">Kyle Three Stone</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">36</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">22</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://github.com/chinasanshi" title="GitHub" target="_blank">GitHub</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="mailto:kyleemail@163.com" title="E-Mail" target="_blank">E-Mail</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-第一章"><span class="nav-text">1. 第一章</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-输入命令"><span class="nav-text">1.1. 输入命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-缓冲区-buffer"><span class="nav-text">1.2. 缓冲区 buffer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-编辑模式"><span class="nav-text">1.3. 编辑模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-启动Emacs"><span class="nav-text">1.4. 启动Emacs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-Emacs命令"><span class="nav-text">1.5. Emacs命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-基于文本的菜单"><span class="nav-text">1.6. 基于文本的菜单</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-打开一个文件"><span class="nav-text">1.7. 打开一个文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-插入和追加文件"><span class="nav-text">1.8. 插入和追加文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-9-默认目录"><span class="nav-text">1.9. 默认目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-10-保存问件"><span class="nav-text">1.10. 保存问件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-11-退出Emacs"><span class="nav-text">1.11. 退出Emacs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-12-自动补全"><span class="nav-text">1.12. 自动补全</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-13-获取帮助"><span class="nav-text">1.13. 获取帮助</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-第二章-文件编辑"><span class="nav-text">2. 第二章 文件编辑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-自动换行模式"><span class="nav-text">2.1 自动换行模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-光标的移动"><span class="nav-text">2.2 光标的移动</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-基本的光标移动操作"><span class="nav-text">2.2.1 基本的光标移动操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-其他的光标移动方法"><span class="nav-text">2.2.2 其他的光标移动方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-翻页"><span class="nav-text">2.2.3 翻页</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-命令的重复执行"><span class="nav-text">2.3 命令的重复执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-重新绘制屏显画面"><span class="nav-text">2.4 重新绘制屏显画面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-Emacs支持键盘上的标准按键"><span class="nav-text">2.5 Emacs支持键盘上的标准按键</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-文本的删除"><span class="nav-text">2.6 文本的删除</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-7-恢复已删除的文本"><span class="nav-text">2.7 恢复已删除的文本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-8-文本块及其编辑操作"><span class="nav-text">2.8 文本块及其编辑操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-9-文本复制"><span class="nav-text">2.9 文本复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-10-段落重排"><span class="nav-text">2.10 段落重排</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-11-交换位置"><span class="nav-text">2.11 交换位置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-12-改写字母的大小写"><span class="nav-text">2.12 改写字母的大小写</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-13-文本的改写"><span class="nav-text">2.13 文本的改写</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-14-命令的中止和修改的撤销"><span class="nav-text">2.14 命令的中止和修改的撤销</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-15-撤销修改"><span class="nav-text">2.15 撤销修改</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-16-文件备份"><span class="nav-text">2.16 文件备份</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-17-恢复丢失的修改"><span class="nav-text">2.17 恢复丢失的修改</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-18-对Emacs进行定制"><span class="nav-text">2.18 对Emacs进行定制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-第三章-查找和替换操作"><span class="nav-text">3. 第三章 查找和替换操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-递增替换"><span class="nav-text">3.1 递增替换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-简单查找"><span class="nav-text">3.2 简单查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-单词查找"><span class="nav-text">3.3 单词查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-基本的查找-替换"><span class="nav-text">3.4 基本的查找-替换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-查询-替换"><span class="nav-text">3.5 查询-替换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-执行历史命令"><span class="nav-text">3.6 执行历史命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7-递归编辑"><span class="nav-text">3.7 递归编辑</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-8-查询、替换操作的大小写问题"><span class="nav-text">3.8 查询、替换操作的大小写问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-9-查找和替换中的正则表达式"><span class="nav-text">3.9 查找和替换中的正则表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-10-拼写检查"><span class="nav-text">3.10 拼写检查</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Ispell"><span class="nav-text">Ispell</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#查单词"><span class="nav-text">查单词</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#总结"><span class="nav-text">总结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#spell"><span class="nav-text">spell</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-11-单词简写模式（word-abbreviation-mode）"><span class="nav-text">3.11 单词简写模式（word abbreviation mode）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为编辑工作临时定义的一些简写词汇"><span class="nav-text">为编辑工作临时定义的一些简写词汇</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-第四章-使用编辑缓冲区和窗口"><span class="nav-text">4. 第四章 使用编辑缓冲区和窗口</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-编辑缓冲区"><span class="nav-text">4.1 编辑缓冲区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-窗口编辑"><span class="nav-text">4.2 窗口编辑</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#在当前窗口对其他窗口操作"><span class="nav-text">在当前窗口对其他窗口操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对比两个窗口中的文件"><span class="nav-text">对比两个窗口中的文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓冲区清单"><span class="nav-text">缓冲区清单</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-书签"><span class="nav-text">4.3 书签</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#书签清单"><span class="nav-text">书签清单</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-临时挂起Emacs"><span class="nav-text">4.4 临时挂起Emacs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-窗格"><span class="nav-text">4.4 窗格</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-第五章-Emacs工作环境"><span class="nav-text">5. 第五章 Emacs工作环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#shell"><span class="nav-text">shell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shell模式"><span class="nav-text">shell模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件和目录操作"><span class="nav-text">文件和目录操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#利用Dired模式进行文件的压缩和解压"><span class="nav-text">利用Dired模式进行文件的压缩和解压</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件比对"><span class="nav-text">文件比对</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件上运行UNIX命令"><span class="nav-text">文件上运行UNIX命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对文件组进行操作"><span class="nav-text">对文件组进行操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#选取文件"><span class="nav-text">选取文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文件组上的操作"><span class="nav-text">文件组上的操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#简单的目录清单"><span class="nav-text">简单的目录清单</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#打印操作"><span class="nav-text">打印操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看UNIX在线文档"><span class="nav-text">查看UNIX在线文档</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#时间管理工具"><span class="nav-text">时间管理工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#时间"><span class="nav-text">时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#日历"><span class="nav-text">日历</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#日记"><span class="nav-text">日记</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7-第七章-Emacs的Internet工具箱"><span class="nav-text">7. 第七章 Emacs的Internet工具箱</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8-第八章-简单的文字排版和特效编辑"><span class="nav-text">8. 第八章 简单的文字排版和特效编辑</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-1-文本的缩进"><span class="nav-text">8.1 文本的缩进</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2-文本的居中"><span class="nav-text">8.2 文本的居中</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-3-插入分页符"><span class="nav-text">8.3 插入分页符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-4-矩形编辑"><span class="nav-text">8.4 矩形编辑</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-5-绘制简单的图形"><span class="nav-text">8.5 绘制简单的图形</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-6-Emacs大纲模式"><span class="nav-text">8.6 Emacs大纲模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11-第十一章-对Emacs进行定制"><span class="nav-text">11. 第十一章 对Emacs进行定制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#11-1-添加Emacs按键绑定"><span class="nav-text">11.1 添加Emacs按键绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#键盘的特殊键"><span class="nav-text">键盘的特殊键</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#不重启emacs就使-emacs立即生效的方法"><span class="nav-text">不重启emacs就使.emacs立即生效的方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12-第十二章-程序员的Emacs"><span class="nav-text">12. 第十二章 程序员的Emacs</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#12-5-对程序进行编译"><span class="nav-text">12.5 对程序进行编译</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#13-第十三章-用LISP语言对Emacs做进一步开发"><span class="nav-text">13. 第十三章 用LISP语言对Emacs做进一步开发</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#13-1-LISP语言"><span class="nav-text">13.1 LISP语言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-2-LISP函数"><span class="nav-text">13.2 LISP函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#LISP变量"><span class="nav-text">LISP变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原子项"><span class="nav-text">原子项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LISP函数定义"><span class="nav-text">LISP函数定义</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-3-把LISP函数转换成Emacs命令"><span class="nav-text">13.3 把LISP函数转换成Emacs命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#文档字符串"><span class="nav-text">文档字符串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-4-LISP基础函数"><span class="nav-text">13.4 LISP基础函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#语句块"><span class="nav-text">语句块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#控制结构"><span class="nav-text">控制结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#正则表达式"><span class="nav-text">正则表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-5-定制主编辑模式"><span class="nav-text">13.5 定制主编辑模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-6-建立自己的LISP开发库"><span class="nav-text">13.6 建立自己的LISP开发库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-7-对LISP文件进行字节编译"><span class="nav-text">13.7 对LISP文件进行字节编译</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kyle Three Stone</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="Symbols count total">1.3m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="Reading time total">20:false</span>
  
</div>











        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  













  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/mathjax@2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Wechat,Weibo,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  

  

  

  

  

  

</body>
</html>
